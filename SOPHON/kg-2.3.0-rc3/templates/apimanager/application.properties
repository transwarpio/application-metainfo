server.address = ${service.roles.APINAMANER[0].hostname}
server.port = 8044

<#if dependencies.TXSQL??>
<#assign mysqlHostPorts = []/>
    <#list dependencies.TXSQL.roles['TXSQL_SERVER'] as role>
        <#assign mysqlHostPorts = mysqlHostPorts + [role.hostname + ':' + dependencies.TXSQL['mysql.rw.port']]>
    </#list>
<#assign mysqlHostPort = mysqlHostPorts?join(",")>
spring.datasource.url=jdbc:mysql://${mysqlHostPort}/metastore_apimanager_${service.sid}?useUnicode=yes&characterEncoding=UTF-8&autoReconnect=true&autoReconnectForPools=true&failOverReadOnly=false&connectTimeout=10000&retriesAllDown=0&secondsBeforeRetryMaster=0&queriesBeforeRetryMaster=0
spring.datasource.username=${service['livy.jdbc.username']}
spring.datasource.password=${service['livy.jdbc.password']}
</#if>

# info.app.name=transwarp.aip.api-manager
# info.app.version=0.2.0-SNAPSHOT

# redis
spring.redis.database=0
spring.redis.host=${service.roles.SOPHON_REDIS[0].hostname}
spring.redis.port=${service['redis.port']}
spring.redis.password=${service['redis.password']}
spring.redis.timeout=0

spring.session.store-type=redis
server.servlet.session.timeout=2592000
spring.session.redis.flush-mode=on-save
spring.session.redis.namespace=sophon

