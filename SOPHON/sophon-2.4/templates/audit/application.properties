#actuator
endpoints.enabled=true
endpoints.info.sensitive=false
endpoints.health.sensitive=false
endpoints.trace.sensitive=false
endpoints.loggers.sensitive=false
management.context-path=/
management.port=${service['audit.server.port']}
endpoints.beans.id=springbeans
endpoints.beans.sensitive=false
endpoints.shutdown.enabled=true
management.security.enabled=false
management.endpoints.web.exposure.include=trace
management.trace.include = parameters, request-headers, response-headers, cookies, errors, time-taken
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss
spring.jackson.time-zone=GMT+8

server.port=${service['audit.server.port']}
spring.application.name=audit

#database
<#if dependencies.TXSQL??>
<#assign mysqlHostPorts = []/>
    <#list dependencies.TXSQL.roles['TXSQL_SERVER'] as role>
        <#assign mysqlHostPorts = mysqlHostPorts + [role.hostname + ':' + dependencies.TXSQL['mysql.rw.port']]>
    </#list>
<#assign mysqlHostPort = mysqlHostPorts?join(",")>
spring.datasource.url=jdbc:mysql://${mysqlHostPort}/audit_${service.sid}?useUnicode=yes&characterEncoding=UTF-8&autoReconnect=true&autoReconnectForPools=true&failOverReadOnly=false&connectTimeout=10000&retriesAllDown=0&secondsBeforeRetryMaster=0&queriesBeforeRetryMaster=0
spring.datasource.username=${service['livy.jdbc.username']}
spring.datasource.password=${service['livy.jdbc.password']}
spring.datasource.driver-class-name=com.mysql.jdbc.Driver
</#if>
#hibernate-jpa
spring.jpa.database = MYSQL
spring.jpa.show-sql = true
spring.jpa.hibernate.ddl-auto=none
#spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
spring.jpa.database-platform=org.hibernate.dialect.MySQL5Dialect

liquibase.enabled=true
liquibase.change-log=classpath:/db/master.changelog.xml
