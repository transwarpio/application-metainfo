app.name = feature
app.access-control = true

spring.profiles.active=commons
spring.http.multipart.max-file-size=128MB
spring.http.multipart.max-request-size=128MB

#use hyperbase or not
usehyperbase=true

#use email notification or not
usemail=false

# mybatis settings
mybatis.mapperLocations = classpath:/mapper/*.xml
mybatis.configuration.mapUnderscoreToCamelCase=true

server.port = ${service['feature.server.port']}

flyway.locations=classpath:/schema

pagehelper.helperDialect=mysql
pagehelper.reasonable=false
pagehelper.supportMethodsArguments=true
pagehelper.params=count=countSql

<#if dependencies.TXSQL??>
<#assign mysqlHostPorts = []/>
<#list dependencies.TXSQL.roles['TXSQL_SERVER'] as role>
    <#assign mysqlHostPorts = mysqlHostPorts + [role.hostname + ':' + dependencies.TXSQL['mysql.rw.port']]>
</#list>
<#assign mysqlHostPort = mysqlHostPorts?join(",")>
spring.datasource.url=jdbc:mysql://${mysqlHostPort}/feature_${service.sid}?useUnicode=yes&characterEncoding=UTF-8&autoReconnect=true&autoReconnectForPools=true&failOverReadOnly=false&connectTimeout=10000&retriesAllDown=0&secondsBeforeRetryMaster=0&queriesBeforeRetryMaster=0
spring.datasource.username=${service['livy.jdbc.username']}
spring.datasource.password=${service['livy.jdbc.password']}
spring.datasource.driver-class-name=com.mysql.jdbc.Driver
</#if>

management.context-path= /actuator
management.security.enabled=false
